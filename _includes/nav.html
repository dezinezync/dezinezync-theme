{%- assign default_paths = site.pages | map: "path" -%}
{%- assign page_paths = site.header_pages | default: default_paths -%}
{%- assign titles_size = site.pages | map: 'title' | join: '' | size -%}

<nav class="site-nav">
  <ul>
    <li><a class="page-link" href="/" title="Home">Home</a></li>
    {%- if titles_size > 0 -%}
    {%- for path in page_paths -%}
    {%- assign my_page = site.pages | where: "path", path | first -%}
    {%- if my_page.title -%}
    <li><a class="page-link" href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a></li>
    {%- endif -%}
    {%- endfor -%}
    {%- endif -%}
    <li><a class="page-link" href="/{{ site.rss }}.xml">Feed</a></li>
    
    {%- if site.externalLinks -%}
    {%- for site in site.externalLinks -%}
    <li><a class="external-link" href="{{ site.url | relative_url }}">{{ site.title | escape }}</a></li>
    {%- endfor -%}
    {%- endif -%}
    
    {%- if site.twitter_username -%}
    <li><a class="external-link" href="https://twitter.com/{{ site.twitter_username }}">Twitter</a></li>
    {%- endif -%}

    {%- if site.github_username -%}
    <li><a class="external-link" href="https://github.com/{{ site.github_username }}">Github</a></li>
    {%- endif -%}

    {%- if site.dribbble_username -%}
    <li><a class="external-link" href="https://dribbble.com/{{ site.dribbble_username }}">Dribbble</a></li>
    {%- endif -%}
  </ul>
</nav>